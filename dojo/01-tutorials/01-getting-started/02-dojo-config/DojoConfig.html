<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Tutorial: Hello Dojo!</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">

    <style>
        #card1 {
            width: 600px;
        }

        #card2 {
            width: 300px;
        }

        .demo-card-wide {
            background-color: lightgray;
            margin: 10px;
        }

        .card-container div {
            float: left;
            clear: none;
        }
    </style>

</head>

<body>

    <div class='card-container'>

        <div id='card1' class="demo-card-wide mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">dojo/_base/config</h2>
            </div>
            <div id='card-text1' class="mdl-card__supporting-text">
            </div>
        </div>

        <div id='card2' class="demo-card-wide mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">dojoConfig</h2>
            </div>
            <div id='card-text2' class="mdl-card__supporting-text">
            </div>
        </div>

    </div>

    <!-- Configuration is set before loading dojo.js -->

    <script>
        var dojoConfig = {
            async: true,
            deps: ["dojo/parser"], // First modules to load after dojo.js
            callback: function (parser) {
                console.log("Parser dep loaded");
            },
            map: {
                "*": {
                    ready: "dojo/domReady"
                }
            },
            parseOnLoad: false, //Better use parser.parse() on demand
            has: {
                "dojo-firebug": true
            },
            parseOnLoad: false,
            myApp: {
                logLevel: "info",
                activeModules: ["chart", "map"]
            },
            waitSeconds: 5,   // Module loading timeout
            cacheBust: false  // If true modules are reloaded always (no cache)
        };
    </script>

    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"></script>

    <script>
        require(["//code.getmdl.io/1.3.0/material.min.js"], function () { });
        require(['dojo/dom', "dojo/parser", "dojo/json",
            "dojo/_base/config", 'ready!'],
            function (dom, parser, json, config) {
                console.log("Document ready");

                // Write in the console: dojo.config
                var node = dom.byId('card-text1');
                node.innerHTML = "<pre>" + json.stringify(config, null, "  ");

                // Write in the console: dojoConfig
                node = dom.byId('card-text2');
                node.innerHTML = "<pre>" + json.stringify(dojoConfig, null, "  ");
            });
    </script>

</body>

</html>